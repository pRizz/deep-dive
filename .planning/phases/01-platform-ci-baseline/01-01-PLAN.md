---
phase: 01-platform-ci-baseline
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - ui/package.json
  - ui/tsconfig.json
  - ui/tsconfig.node.json
  - ui/vite-env.d.ts
  - ui/vite.config.ts
  - ui/index.html
  - ui/public/index.html
  - ui/src/index.tsx
autonomous: true
must_haves:
  truths:
    - "Maintainer can start the UI dev server via Vite."
    - "Maintainer can build the UI via Vite for the extension image."
  artifacts:
    - path: "ui/vite.config.ts"
      provides: "Vite build/dev configuration for the UI"
    - path: "ui/index.html"
      provides: "Vite HTML entry wired to ui/src/index.tsx"
  key_links:
    - from: "ui/package.json"
      to: "vite"
      via: "npm scripts (dev/build/test)"
      pattern: "\"dev\": \"vite\""
---

<objective>
Migrate the UI toolchain to Vite.

Purpose: Establish a Vite-based UI build and dev flow.
Output: Vite configuration and updated UI entrypoint.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-platform-ci-baseline/01-RESEARCH.md
@ui/package.json
@ui/tsconfig.json
@ui/public/index.html
@ui/src/index.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace CRA build with Vite</name>
  <files>ui/package.json, ui/tsconfig.json, ui/tsconfig.node.json, ui/vite-env.d.ts, ui/vite.config.ts, ui/index.html, ui/public/index.html, ui/src/index.tsx</files>
  <action>
    - Remove CRA tooling (`react-scripts`) and add Vite (`vite`, `@vitejs/plugin-react`) with React 18 in `ui/package.json`.
    - Update scripts: `dev` (vite), `build` (vite build), `preview` (vite preview).
    - Add `ui/vite.config.ts` with `base: "./"` and `build.outDir: "dist"`; keep entry at `ui/src/index.tsx`.
    - Replace CRA HTML with Vite `ui/index.html` pointing to `/src/index.tsx`; remove or deprecate `ui/public/index.html`.
    - Update `ui/tsconfig.json` for Vite (React 18 JSX transform and module resolution) and add `ui/tsconfig.node.json` + `ui/vite-env.d.ts`.
  </action>
  <verify>npm --prefix ui run build</verify>
  <done>Vite build succeeds and outputs `ui/dist` with assets loaded from `ui/index.html`.</done>
</task>

</tasks>

<verification>
- `npm --prefix ui run dev` starts a Vite dev server
- `npm --prefix ui run build` produces `ui/dist`
</verification>

<success_criteria>
- UI toolchain uses Vite with React 18 and new scripts.
- Vite build output is generated from `ui/index.html`.
</success_criteria>

<output>
After completion, create `.planning/phases/01-platform-ci-baseline/01-01-SUMMARY.md`
</output>
